(this["webpackJsonpcity-explorer"]=this["webpackJsonpcity-explorer"]||[]).push([[0],{42:function(e,t,a){},56:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(19),s=a.n(r),o=(a(56),a(12)),i=a(13),l=a(15),j=a(14),h=(a(42),a(51)),u=a(21),d=a.n(u),b=a(27),O=a(23),p=a(34),m=a(28),x=a.n(m),f=(a(38),a(26)),g=a(2),v=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(f.a.Dialog,{animation:"true",autoFocus:"true",variant:"danger",children:[Object(g.jsx)(f.a.Header,{onHide:this.props.handleClose,closeButton:!0,children:Object(g.jsx)(f.a.Title,{children:this.props.message})}),Object(g.jsx)(f.a.Body,{children:Object(g.jsx)("p",{children:"Please try again"})})]})})}}]),a}(c.a.Component),y=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("img",{src:this.props.imgSrc,alt:"Map view of city"})})}}]),a}(c.a.Component),k=a(36),w=a(35),C=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(b.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://localhost:3001",e.next=3,x.a.get("".concat("http://localhost:3001","/weather"));case 3:t=e.sent,a=t.data,console.log(a),console.log("newArray=",t.data),n.setState({list:a});case 8:case"end":return e.stop()}}),e)}))),n.state={list:[]},n}return Object(i.a)(a,[{key:"render",value:function(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(w.a,{defaultActiveKey:"1",children:Object(g.jsxs)(k.a,{children:[Object(g.jsx)(k.a.Header,{children:Object(g.jsx)(w.a.Toggle,{as:p.a,variant:"info",eventKey:"0",children:"View Weather Forecast"})}),Object(g.jsx)(w.a.Collapse,{eventKey:"0",children:Object(g.jsx)(k.a.Body,{children:this.state.list.map((function(e,t){return Object(g.jsx)("div",{children:Object(g.jsxs)("h4",{children:[e.date,"  ",e.desc]})},t)}))})})]})})})}}]),a}(c.a.Component),E=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).getLocationInfo=function(){var e=Object(b.a)(d.a.mark((function e(t){var a,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),a="https://us1.locationiq.com/v1/search.php?key=".concat("pk.2cf2084608ac7a754dcf625b28905e68","&q=").concat(n.state.searchQuery,"&format=json"),e.next=5,x.a.get(a);case 5:c=e.sent,r=c.data,n.setState({location:r[0],displayResults:!0,imgSrc:"https://maps.locationiq.com/v3/staticmap?key=".concat("pk.2cf2084608ac7a754dcf625b28905e68","&center=").concat(r[0].lat,",").concat(r[0].lon,"&zoom=11&size=1200x900")}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),e.t0&&(n.setState({hasError:!0,message:e.t0.message}),console.log("error",n.state.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),n.state={location:{},searchQuery:"",imgSrc:"",displayResults:!1,hasError:!1,message:""},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return console.log("state",this.state),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(O.a,{onSubmit:this.getLocationInfo,children:[Object(g.jsxs)(O.a.Group,{controlId:"formBasicEmail",children:[Object(g.jsx)(O.a.Label,{children:"Enter a City to Explore"}),Object(g.jsx)(O.a.Control,{variant:"info",className:"form-control",size:"lg",onChange:function(t){return e.setState({searchQuery:t.target.value})},placeholder:"Enter city"}),Object(g.jsx)(O.a.Text,{width:350,className:"text-muted"})]}),Object(g.jsx)(p.a,{variant:"info",type:"submit",children:"EXPLORE!"})]}),Object(g.jsx)(C,{}),this.state.hasError&&Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(v,{handleClose:function(){return e.setState({hasError:!1})(window.location.reload())},message:this.state.message})}),this.state.displayResults&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h2",{className:"city",children:this.state.location.display_name}),Object(g.jsxs)("h3",{className:"lat-lon",children:[this.state.location.lat,this.state.location.lon]}),Object(g.jsx)(y,{imgSrc:this.state.imgSrc})]})]})}}]),a}(c.a.Component),S=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={},n}return Object(i.a)(a,[{key:"render",value:function(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(h.a,{className:"App",fluid:"true",children:[Object(g.jsx)("h1",{className:"header",children:"Welcome to City Explorer"}),Object(g.jsx)(E,{})]})})}}]),a}(c.a.Component);s.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(S,{})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.0f28fe95.chunk.js.map